javascript:(()=>{if(window.__ocrPopup)return;window.__ocrPopup=1;let f=()=>{let s=document.createElement('script');s.src='https://cdn.jsdelivr.net/npm/tesseract.js@4.0.2/dist/tesseract.min.js';document.body.appendChild(s);let h=document.createElement('script');h.src='https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js';document.body.appendChild(h);let d=document.createElement('div');d.style='position:fixed;top:10px;right:10px;z-index:99999;background:#222;color:#fff;padding:10px;font-size:14px;border:2px solid #888;max-width:95vw;font-family:Arial';d.innerHTML=%60<div id=ocrBox><b>ğŸ“¸ OCR Tool</b><br><input type=file id=ocrFile accept='image/*'><input type=text id=ocrURL placeholder='×§×™×©×•×¨ ×ª××•× ×”' style='width:100%'><br><button onclick='ocrSnap()'>ğŸ“· ×¦×™×œ×•× ××¡×š</button><button onclick='ocrRun()'>ğŸ” ×¡×¨×™×§×”</button><button onclick='ocrClear()'>ğŸ§¹ ××™×¤×•×¡</button><button onclick='document.body.removeChild(this.parentElement.parentElement)'>âŒ</button><br><img id=ocrImg style='max-width:100%;margin:5px 0;display:none'><textarea id=ocrText rows=6 style='width:100%;background:#000;color:#0f0;font-family:monospace;padding:5px'></textarea><br><button onclick='navigator.clipboard.writeText(ocrText.value)'>ğŸ“‹ ×”×¢×ª×§</button><button onclick='let b=new Blob([ocrText.value],{type:\"text/plain\"}),a=document.createElement(\"a\");a.href=URL.createObjectURL(b);a.download=\"text.txt\";a.click()'>ğŸ’¾ txt</button><button onclick='window.open(\"https://wa.me/?text=\"+encodeURIComponent(ocrText.value))'>ğŸ“¤ ×©×ª×£</button><button onclick='alert(\"ğŸ§  ×¡×™×›×•×: \"+ocrText.value.split(\"\\n\").slice(0,3).join(\" \")+\"...\")'>ğŸ§  ×¡×›×</button></div>%60;document.body.appendChild(d);};f();window.ocrRun=()=>{let f=document.getElementById('ocrFile').files[0],u=document.getElementById('ocrURL').value.trim(),img=document.getElementById('ocrImg');if(f){img.src=URL.createObjectURL(f);img.onload=()=>ocr(img);}else if(u){fetch(u).then(r=>r.blob()).then(b=>{img.src=URL.createObjectURL(b);img.style.display='block';img.onload=()=>ocr(img);}).catch(e=>alert('âŒ '+e));}else alert('×‘×—×¨ ×§×•×‘×¥ ××• ×§×™×©×•×¨');};window.ocrSnap=()=>{let box=document.getElementById('ocrBox');box.style.display='none';html2canvas(document.body).then(c=>{box.style.display='block';c.toBlob(b=>{let img=document.getElementById('ocrImg');img.src=URL.createObjectURL(b);img.style.display='block';ocr(img);});});};window.ocr=img=>{let t=document.getElementById('ocrText');t.value='â³ ×× ×ª×—...';let c=document.createElement('canvas');c.width=img.naturalWidth;c.height=img.naturalHeight;c.getContext('2d').drawImage(img,0,0);c.toBlob(b=>{Tesseract.recognize(b,'heb+eng').then(r=>t.value=r.data.text.replace(/\\n{2,}/g,\"\\n\").replace(/  +/g,' ')).catch(e=>t.value='âŒ ×©×’×™××”: '+e);});};window.ocrClear=()=>{document.getElementById('ocrText').value='';document.getElementById('ocrImg').src='';document.getElementById('ocrImg').style.display='none';document.getElementById('ocrURL').value='';};})();
